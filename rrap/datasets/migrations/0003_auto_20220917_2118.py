# Generated by Django 3.2.15 on 2022-09-17 18:18

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        ('core', '0002_topic'),
        ('organizations', '0006_remove_organization_removed'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('datasets', '0002_dataset_tags'),
    ]

    operations = [
        migrations.AlterModelOptions(
            name='dataset',
            options={},
        ),
        migrations.RemoveField(
            model_name='dataset',
            name='date',
        ),
        migrations.RemoveField(
            model_name='dataset',
            name='is_active',
        ),
        migrations.RemoveField(
            model_name='dataset',
            name='location',
        ),
        migrations.RemoveField(
            model_name='dataset',
            name='removed',
        ),
        migrations.RemoveField(
            model_name='dataset',
            name='topic',
        ),
        migrations.AddField(
            model_name='dataset',
            name='archived',
            field=models.BooleanField(default=False, verbose_name='Archived?'),
        ),
        migrations.AddField(
            model_name='dataset',
            name='caveats',
            field=models.TextField(blank=True, max_length=400, null=True, verbose_name='Caveats/Comments'),
        ),
        migrations.AddField(
            model_name='dataset',
            name='created_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='datasets_created', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='dataset',
            name='has_microdata',
            field=models.BooleanField(default=False, verbose_name='Contains microdata e.g household survey results, disaggregated needs assessment data, etc'),
        ),
        migrations.AddField(
            model_name='dataset',
            name='has_pii',
            field=models.BooleanField(default=False, verbose_name='Contains Personally Identifiable Information (PII) e.g names, phone numbers, Identification number, etc'),
        ),
        migrations.AddField(
            model_name='dataset',
            name='last_updated',
            field=models.DateTimeField(auto_now=True, null=True, verbose_name='last updated'),
        ),
        migrations.AddField(
            model_name='dataset',
            name='locations',
            field=models.ManyToManyField(to='core.Location'),
        ),
        migrations.AddField(
            model_name='dataset',
            name='methodolody',
            field=models.CharField(blank=True, choices=[(0, 'Census'), (1, 'Sample survey'), (2, 'Direct observational/Anecdotal data'), (3, 'Registry'), (4, 'Other')], max_length=20, verbose_name='Data methodology'),
        ),
        migrations.AddField(
            model_name='dataset',
            name='name',
            field=models.SlugField(default='meh', max_length=255, verbose_name='name'),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='dataset',
            name='privacy',
            field=models.CharField(blank=True, choices=[(0, 'By request (Anyone can search and view the metadata of this dataset. Registered users can submit a request to obtain the data directly from you, by email, file transfer, etc.)'), (1, 'Private (Only you and other members of your organisation can search, view/edit or download this dataset)'), (2, 'Public (Anyone can search, view/edit or download this dataset)')], max_length=20, verbose_name='Privacy setting'),
        ),
        migrations.AddField(
            model_name='dataset',
            name='quality_confirmed',
            field=models.BooleanField(default=False, verbose_name="Dataset's quality has been confirmed"),
        ),
        migrations.AddField(
            model_name='dataset',
            name='summary',
            field=models.TextField(blank=True, help_text='Please provide a summary of this dataset.', max_length=2000, verbose_name='overview'),
        ),
        migrations.AddField(
            model_name='dataset',
            name='topics',
            field=models.ManyToManyField(to='core.Topic'),
        ),
        migrations.AddField(
            model_name='dataset',
            name='update_frequency',
            field=models.CharField(blank=True, choices=[(0, 'Every week'), (1, 'Every two weeks'), (2, 'Every month'), (3, 'Every three months'), (4, 'Every six months'), (5, 'Every year'), (6, 'As needed'), (7, 'Never')], max_length=20, verbose_name='Update frequency'),
        ),
        migrations.AddField(
            model_name='dataset',
            name='updated_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='datasets_updated', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AlterField(
            model_name='dataset',
            name='organization',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='datasets', to='organizations.organization'),
        ),
        migrations.AlterField(
            model_name='dataset',
            name='title',
            field=models.CharField(help_text='Title of dataset', max_length=255, verbose_name='title'),
        ),
    ]
